# Reference INN by API

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö –ø–æ –ò–ù–ù (–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–∞–ª–æ–≥–æ–ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞) —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ API. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ò–ù–ù, –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö –∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚ö° –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù** –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–π –∏–∑ –†–æ—Å—Å–∏–∏, –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞ –∏ –ë–µ–ª–∞—Ä—É—Å–∏
- **–ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö** –ø–æ –ò–ù–ù —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ API
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥** –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π —Å –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
- **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –≤ SQLite –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ClickHouse** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ —Å—Ç–∞—Ç—É—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ Excel/CSV** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### üåç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞–Ω—ã
- **–†–æ—Å—Å–∏—è**: –í–∞–ª–∏–¥–∞—Ü–∏—è 10-–∑–Ω–∞—á–Ω—ã—Ö (—é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞) –∏ 12-–∑–Ω–∞—á–Ω—ã—Ö (—Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –ª–∏—Ü–∞) –ò–ù–ù
- **–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API
- **–ë–µ–ª–∞—Ä—É—Å—å**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API
- **–£–∑–±–µ–∫–∏—Å—Ç–∞–Ω**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ API (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **API –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤**: Google Translate, Yandex Translate
- **–ü–æ–∏—Å–∫–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã**: XML River (–Ø–Ω–¥–µ–∫—Å)
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**: ClickHouse, SQLite (–∫—ç—à)
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: Telegram Bot API

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
reference_inn_by_api/
‚îú‚îÄ‚îÄ scripts/                    # –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ main.py                # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å —Å –∫–ª–∞—Å—Å–æ–º ReferenceInn
‚îÇ   ‚îú‚îÄ‚îÄ unified_companies.py   # –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –∫–æ–º–ø–∞–Ω–∏–π –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ validate_inn.py        # –í–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù
‚îú‚îÄ‚îÄ bash_dir/                  # Bash —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ reference_inn_by_api.sh # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ _reference.sh          # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ cache/                     # –ö—ç—à –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ cache.db              # SQLite –±–∞–∑–∞ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ get_difference.py          # –£—Ç–∏–ª–∏—Ç–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ requirements.txt           # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile                # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ venv/                     # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

## üíª –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### üîß –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- Linux/Unix —Å–∏—Å—Ç–µ–º–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –ú–∏–Ω–∏–º—É–º 2 GB RAM
- –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–û—Å–Ω–æ–≤–Ω—ã–µ Python –ø–∞–∫–µ—Ç—ã (—Å–º. `requirements.txt`):
- `pandas==1.4.3` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `requests==2.28.1` - HTTP –∑–∞–ø—Ä–æ—Å—ã
- `clickhouse_connect==0.6.13` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ClickHouse
- `deep-translator==1.9.0` - –ø–µ—Ä–µ–≤–æ–¥—ã
- `fuzzywuzzy==0.18.0` - –Ω–µ—á–µ—Ç–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
- `beautifulsoup4==4.11.1` - –ø–∞—Ä—Å–∏–Ω–≥ HTML/XML
- `python-stdnum==1.17` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤
- `csvkit==1.0.7` - —Ä–∞–±–æ—Ç–∞ —Å CSV

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone <repository-url>
cd reference_inn_by_api
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
# ClickHouse –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
HOST=your_clickhouse_host
DATABASE=your_database_name
USERNAME=your_username
PASSWORD=your_password

# API –∫–ª—é—á–∏
TOKEN_API_YANDEX=your_yandex_translate_token
USER_XML_RIVER=your_xml_river_user
KEY_XML_RIVER=your_xml_river_key

# –ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º (–ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ —á–µ—Ä–µ–∑ docker-compose)
XL_IDP_PATH_REFERENCE_INN_BY_API=/path/to/excel/files
XL_IDP_PATH_REFERENCE_INN_BY_API_SCRIPTS=/path/to/reference_inn_by_api
XL_IDP_PATH_DOCKER=/path/in/docker

# Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TOKEN_TELEGRAM=your_telegram_bot_token
CHAT_ID=your_chat_id
TOPIC=your_topic
ID=your_message_id
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
```bash
# –î–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ Excel —Ñ–∞–π–ª–æ–≤
pip install csvkit
```

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

### üñ•Ô∏è –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤
cd scripts

# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è
python main.py
```

### üìú –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ bash —Å–∫—Ä–∏–ø—Ç
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export XL_IDP_PATH_REFERENCE_INN_BY_API="/path/to/your/excel/files"

# –ó–∞–ø—É—Å–∫
./bash_dir/reference_inn_by_api.sh
```

### üê≥ Docker –∑–∞–ø—É—Å–∫

```yaml
version: '3.9'
services:
    reference_inn_by_api:
        container_name: reference_inn_by_api
        restart: always
        ports:
          - "8070:8070"
        volumes:
          - ${XL_IDP_PATH_REFERENCE_INN_BY_API_SCRIPTS}:${XL_IDP_PATH_DOCKER}
          - ${XL_IDP_ROOT_REFERENCE_INN_BY_API}:${XL_IDP_PATH_REFERENCE_INN_BY_API}
        environment:
          XL_IDP_PATH_REFERENCE_INN_BY_API_SCRIPTS: ${XL_IDP_PATH_DOCKER}
          XL_IDP_PATH_REFERENCE_INN_BY_API: ${XL_IDP_PATH_REFERENCE_INN_BY_API}
          TOKEN_TELEGRAM: ${TOKEN_TELEGRAM}
        build:
          context: reference_inn_by_api
          dockerfile: ./Dockerfile
          args:
            XL_IDP_PATH_DOCKER: ${XL_IDP_PATH_DOCKER}
        command:
          bash -c "sh ${XL_IDP_PATH_DOCKER}/bash_dir/_reference.sh"
        networks:
          - postgres
```

```bash
docker-compose up -d
```

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üì• –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
1. –ü–æ–º–µ—Å—Ç–∏—Ç–µ Excel/CSV —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ `XL_IDP_PATH_REFERENCE_INN_BY_API`
2. –§–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–ª–æ–Ω–∫—É —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –∫–æ–º–ø–∞–Ω–∏–π
3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: `.xls`, `.xlsx`

### üîÑ –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏
1. **–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è**: Excel —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ CSV
2. **–ü–∞—Ä—Å–∏–Ω–≥**: –ò–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–π
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü–æ–∏—Å–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ò–ù–ù –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö
4. **–ü–æ–∏—Å–∫**: –ó–∞–ø—Ä–æ—Å—ã –∫ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö
5. **–ü–µ—Ä–µ–≤–æ–¥**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–π –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ ClickHouse –∏ CSV —Ñ–∞–π–ª—ã

### üì§ –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **CSV —Ñ–∞–π–ª—ã** —Å –æ–±–æ–≥–∞—â–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ –ø–∞–ø–∫–µ `csv/`
- **JSON —Ñ–∞–π–ª—ã** —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ –≤ –ø–∞–ø–∫–µ `json/`
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `done/`
- **–î–∞–Ω–Ω—ã–µ –≤ ClickHouse** –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (scripts/__init__.py)
- `COUNT_THREADS`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
- `PROXIES`: –°–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- `REPLACED_QUOTES`: –°–∏–º–≤–æ–ª—ã –¥–ª—è –∑–∞–º–µ–Ω—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∫–æ–º–ø–∞–Ω–∏–π
- `REPLACED_WORDS`: –°–ª–æ–≤–∞ –¥–ª—è –∑–∞–º–µ–Ω—ã (–û–û–û, –ò–ü, –∏ —Ç.–¥.)

### üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API
- **Yandex Translate**: –¢—Ä–µ–±—É–µ—Ç—Å—è `TOKEN_API_YANDEX`
- **Dadata**: –¢—Ä–µ–±—É–µ—Ç—Å—è `TOKEN_DADATA`
- **XML River**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ `USER_XML_RIVER` –∏ `KEY_XML_RIVER`

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### üì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
–°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ:
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
- –û—à–∏–±–∫–∞—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

### üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ API
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
1. **–û—à–∏–±–∫–∏ API**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å API –∫–ª—é—á–µ–π
2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ClickHouse**: –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. **–û—à–∏–±–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ UTF-8 –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
4. **–ù–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞**: –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ

### üêõ –û—Ç–ª–∞–¥–∫–∞
```bash
# –í–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
export LOG_LEVEL=DEBUG

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ClickHouse
python -c "from scripts.main import ReferenceInn; ReferenceInn.connect_to_db()"
```

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **main.py**: –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å `ReferenceInn` —Å –ª–æ–≥–∏–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **unified_companies.py**: –ü–∞—Ç—Ç–µ—Ä–Ω Strategy –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∞–º–∏
- **translate.py**: –ü–∞—Ç—Ç–µ—Ä–Ω Strategy –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤
- **validate_inn.py**: –£—Ç–∏–ª–∏—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ò–ù–ù

### üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω—ã**: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –æ—Ç `BaseUnifiedCompanies`
2. **–ù–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫**: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `TranslatorStrategy`
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ `validate_inn.py`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ SQLite
- Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è ClickHouse
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã
